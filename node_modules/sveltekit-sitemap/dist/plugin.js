"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }require('./chunk-4DJVROEE.js');var _fs = require('fs'); var _fs2 = _interopRequireDefault(_fs);var m=r=>{let i=_fs2.default.readdirSync(r);return i.some(t=>t==="+page.svelte")?!0:i.some(t=>{let e=r+"/"+t;return _fs2.default.statSync(e).isDirectory()?m(e):!1})},u=r=>{let i={},t=e=>{let o=_fs2.default.statSync(e).isDirectory(),p=o&&m(e);o&&p&&_fs2.default.readdirSync(e).forEach(n=>t(e+"/"+n));let l=e.replace(r,"").replace("/+page.svelte",""),a=e.replace("/+page.svelte",""),c=_fs2.default.statSync(a).isDirectory()&&_fs2.default.readdirSync(e.replace("/+page.svelte","")).some(n=>_fs2.default.statSync(a+"/"+n).isDirectory());!e.endsWith("+page.svelte")&&!c||Object.assign(i,{[l||"/"]:c})};return _fs2.default.readdirSync(r).forEach(e=>t(r+"/"+e)),i},g= exports.sitemapPlugin =({routesDir:r="./src/routes",sitemapFile:i="./src/sitemap.ts"}={})=>{function t(){_fs2.default.writeFileSync(i,`import type { RO_Sitemap } from 'sveltekit-sitemap';

export const sitemap = (<const>${JSON.stringify(u(r),null,3).replace(/\uFFFF/g,'\\"')}) satisfies RO_Sitemap

export type Sitemap = typeof sitemap
`)}return t(),{name:"sveltekit-sitemap",configureServer(e){e.watcher.add([r]).on("add",t).on("unlink",t).on("unlinkDir",t)}}};exports.sitemapPlugin = g;
//# sourceMappingURL=plugin.js.map