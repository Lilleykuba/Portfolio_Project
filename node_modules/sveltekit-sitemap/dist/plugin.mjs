import"./chunk-PC4KRD4L.mjs";import s from"fs";var m=r=>{let i=s.readdirSync(r);return i.some(t=>t==="+page.svelte")?!0:i.some(t=>{let e=r+"/"+t;return s.statSync(e).isDirectory()?m(e):!1})},u=r=>{let i={},t=e=>{let o=s.statSync(e).isDirectory(),p=o&&m(e);o&&p&&s.readdirSync(e).forEach(n=>t(e+"/"+n));let l=e.replace(r,"").replace("/+page.svelte",""),a=e.replace("/+page.svelte",""),c=s.statSync(a).isDirectory()&&s.readdirSync(e.replace("/+page.svelte","")).some(n=>s.statSync(a+"/"+n).isDirectory());!e.endsWith("+page.svelte")&&!c||Object.assign(i,{[l||"/"]:c})};return s.readdirSync(r).forEach(e=>t(r+"/"+e)),i},g=({routesDir:r="./src/routes",sitemapFile:i="./src/sitemap.ts"}={})=>{function t(){s.writeFileSync(i,`import type { RO_Sitemap } from 'sveltekit-sitemap';

export const sitemap = (<const>${JSON.stringify(u(r),null,3).replace(/\uFFFF/g,'\\"')}) satisfies RO_Sitemap

export type Sitemap = typeof sitemap
`)}return t(),{name:"sveltekit-sitemap",configureServer(e){e.watcher.add([r]).on("add",t).on("unlink",t).on("unlinkDir",t)}}};export{g as sitemapPlugin};
//# sourceMappingURL=plugin.mjs.map